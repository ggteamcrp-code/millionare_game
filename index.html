<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ç–æ —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- –§–û–ù -->
    <div class="dynamic-background"></div>

    <!-- –°–¢–ê–†–¢–û–í–´–ô –≠–ö–†–ê–ù -->
    <div id="start-screen" class="overlay">
        
        <!-- –õ–û–ì–û–¢–ò–ü -->
        <div class="logo-wrapper large">
            <svg class="game-logo" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="silver-grad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" stop-color="#ffffff" />
                        <stop offset="50%" stop-color="#a0b8d0" />
                        <stop offset="100%" stop-color="#ffffff" />
                    </linearGradient>
                </defs>
                <circle cx="150" cy="150" r="145" fill="rgba(2, 11, 32, 0.9)" stroke="#5d7ea0" stroke-width="2" />
                <circle cx="150" cy="150" r="135" fill="none" stroke="#8daac8" stroke-width="1" opacity="0.5" />
                <g class="spirograph">
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(0 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(20 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(40 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(60 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(80 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(100 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(120 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(140 150 150)" />
                    <ellipse cx="150" cy="150" rx="130" ry="35" transform="rotate(160 150 150)" />
                </g>
                <path id="text-curve-top" d="M 40,150 A 110,110 0 0,1 260,150" fill="none" />
                <path id="text-curve-bottom" d="M 40,150 A 110,110 0 0,0 260,150" fill="none" />
                <text font-family="Times New Roman, serif" font-size="19" font-weight="bold" fill="url(#silver-grad)" letter-spacing="2">
                    <textPath href="#text-curve-top" startOffset="50%" text-anchor="middle">–ö–¢–û –•–û–ß–ï–¢ –°–¢–ê–¢–¨</textPath>
                </text>
                <text font-family="Times New Roman, serif" font-size="14" font-weight="bold" fill="url(#silver-grad)" letter-spacing="2" opacity="0.7">
                    <textPath href="#text-curve-bottom" startOffset="50%" text-anchor="middle" side="left">–ú–ò–õ–õ–ò–û–ù–ï–†–û–ú</textPath>
                </text>
            </svg>
            <h1 class="main-logo-title">–ú–ò–õ–õ–ò–û–ù–ï–†–û–ú</h1>
        </div>
        
        <!-- –ú–ï–ù–Æ -->
        <div class="start-menu">
            <button id="start-btn" class="main-btn">–ò–ì–†–ê–¢–¨</button>
            <button id="rules-btn" class="secondary-btn">–ü–†–ê–í–ò–õ–ê</button>
            <button id="settings-btn" class="secondary-btn">–ù–ê–°–¢–†–û–ô–ö–ò</button>
        </div>
    </div>

    <!-- –û–ö–ù–û –ù–ê–°–¢–†–û–ï–ö (MODAL) -->
        <!-- –û–ö–ù–û –ù–ê–°–¢–†–û–ï–ö (MODAL) -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <span class="close-modal">&times;</span>
            </div>
            
            <!-- –í–ö–õ–ê–î–ö–ò -->
            <div class="tabs">
                <button class="tab-link active" data-tab="general">–ì–ª–∞–≤–Ω—ã–µ</button>
                <button class="tab-link" data-tab="templates">–®–∞–±–ª–æ–Ω—ã</button>
                <button class="tab-link" data-tab="rules">–ü—Ä–∞–≤–∏–ª–∞</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –ì–õ–ê–í–ù–´–ï -->
           <div id="tab-general" class="tab-content active">
    
            <!-- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º -->
           <div class="setting-row">
             <span>–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º</span>
               <label class="switch">
                  <input type="checkbox" id="fullscreen-toggle">
                  <span class="slider round"></span>
              </label>
           </div>

            <!-- –ü–æ–ª–∑—É–Ω–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (–ù–û–í–´–ô) -->
           <div class="setting-row">
            <span>–û–±—â–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å</span>
               <div class="volume-control">
                  <span id="vol-icon">üîä</span>
                  <input type="range" min="0" max="100" value="50" class="range-slider" id="volume-slider">
                </div>
           </div>

</div>


            <!-- –í–∫–ª–∞–¥–∫–∞: –®–ê–ë–õ–û–ù–´ -->
            <div id="tab-templates" class="tab-content">
                <div class="templates-layout">
                    
                    <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê (–°–ü–ò–°–û–ö) -->
                    <div class="templates-sidebar">
                        <h3>–ú–æ–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏</h3>
                        <div class="templates-list" id="templates-list"></div>
                        <button class="add-question-btn" id="create-new-tpl-btn" style="width:100%; border:1px dashed #666; color:#ccc; margin-top:10px;">
                            + –ù–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
                        </button>
                    </div>

                    <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê (–†–ï–î–ê–ö–¢–û–†) -->
                    <div class="template-editor-wrapper">
                        <!-- –†–ï–î–ê–ö–¢–û–† (–°–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                        <div id="template-editor-panel" class="hidden" style="display:flex; flex-direction:column; height:100%;">
                            <div class="editor-header">
                                <input type="text" id="tpl-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è..." class="input-title">
                            </div>
                            <div class="questions-container" id="questions-container"></div>
                            <div class="editor-bottom-controls" style="display:flex; gap:10px; margin-top:auto;">
                                <button id="add-q-card-btn" class="secondary-btn" style="flex:1;">+ –í–æ–ø—Ä–æ—Å</button>
                                <button id="save-tpl-btn" class="save-btn" style="flex:1;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button id="delete-tpl-btn" class="delete-btn" style="width:50px;">üóë</button>
                            </div>
                        </div>

                        <!-- –ü–£–°–¢–û–ô –≠–ö–†–ê–ù -->
                        <div id="editor-empty-state" style="height:100%; display:flex; justify-content:center; align-items:center; color:#666; text-align:center;">
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–ª–µ–≤–∞<br>–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π</p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ü–†–ê–í–ò–õ–ê (–¢–µ–ø–µ—Ä—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!) -->
            <div id="tab-rules" class="tab-content">
                <div class="rules-editor">
                    <p class="editor-hint">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–π —É–≤–∏–¥—è—Ç –∏–≥—Ä–æ–∫–∏.</p>
                    <textarea id="rules-editor-textarea" class="rules-textarea" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª..."></textarea>
                    <button id="save-rules-btn" class="save-btn" style="width:100%; margin-top:10px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞</button>
                </div>
            </div>

        </div> <!-- –ö–æ–Ω–µ—Ü modal-content -->
    </div> <!-- –ö–æ–Ω–µ—Ü modal -->
 <!-- –ö–æ–Ω–µ—Ü modal -->

    <!-- –≠–ö–†–ê–ù –ü–ê–£–ó–´ -->
    <div id="pause-screen" class="hidden"> <!-- –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç CSS –∫–ª–∞—Å—Å–æ–º -->
        <div class="pause-layout">
            <div class="pause-left">
                <div class="logo-wrapper small">
                     <h1 class="pause-title">–ü–ê–£–ó–ê</h1>
                </div>
                <div class="pause-menu">
                    <button id="resume-btn" class="main-btn">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
                    <button id="quit-btn" class="secondary-btn">–ó–ê–ö–û–ù–ß–ò–¢–¨</button>
                </div>
            </div>
            <div class="pause-right">
                <div class="money-sidebar" id="money-tree"></div>
            </div>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù –ü–û–ë–ï–î–´ -->
    <div id="victory-screen" class="overlay hidden">
        <div class="victory-content">
            <h1>–ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê</h1>
            <p>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <div class="final-score" id="final-score-display">0 ‚ÇΩ</div>
            <button id="back-to-menu-btn" class="main-btn">–í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù –ò–ì–†–´ -->
    <div class="game-container" id="game-ui" style="display: none;">
        
        <header class="game-header">
            <!-- –¢–∞–π–º–µ—Ä -->
            <div class="timer-wrapper" id="timer-btn">
                <svg class="timer-svg" width="80" height="80" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="#0e1d42" stroke-width="8" />
                    <circle id="timer-progress" cx="50" cy="50" r="45" fill="none" stroke="#00aaff" stroke-width="8" stroke-linecap="round" stroke-dasharray="283" stroke-dashoffset="0" transform="rotate(-90 50 50)" />
                </svg>
                <div class="timer-text" id="timer-display">30</div>
            </div>

            <!-- –ò–∫–æ–Ω–∫–∞ –ü–∞—É–∑—ã -->
            <div class="header-right-group">
                <div class="pause-icon-btn" id="pause-trigger" title="–ü–∞—É–∑–∞">‚è∏</div>
                <div class="lifelines-container">
                    <div class="lifeline-btn" id="btn-5050">50:50</div>
                    <div class="lifeline-btn" id="btn-phone">üìû</div>
                </div>
            </div>
        </header>

        <main class="game-board">
             <div class="media-container hidden" id="question-image-area">
                <div class="media-frame">
                    <img src="" alt="Question Image" id="question-image" />
                </div>
            </div>
            <div class="question-box-wrapper">
                <div class="hex-box question-box">
                    <div class="hex-content" id="question-text">–í–æ–ø—Ä–æ—Å...</div>
                </div>
            </div>
                        <!-- –°–ï–¢–ö–ê –û–¢–í–ï–¢–û–í (–ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø) -->
            <div class="answers-grid">
                <!-- A -->
                <div class="answer-wrapper">
                    <div class="line-connector"></div>
                    <div class="hex-box answer-box">
                        <div class="hex-content">
                            <span class="prefix">A:</span> 
                            <!-- –í–ê–ñ–ù–û: ID –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –æ—Ç–≤–µ—Ç–∞ -->
                            <span class="text" id="answer-text-0">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>
                </div>
                <!-- B -->
                <div class="answer-wrapper">
                    <div class="line-connector"></div>
                    <div class="hex-box answer-box">
                        <div class="hex-content">
                            <span class="prefix">B:</span> 
                            <span class="text" id="answer-text-1">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>
                </div>
                <!-- C -->
                <div class="answer-wrapper">
                    <div class="line-connector"></div>
                    <div class="hex-box answer-box">
                        <div class="hex-content">
                            <span class="prefix">C:</span> 
                            <span class="text" id="answer-text-2">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>
                </div>
                <!-- D -->
                <div class="answer-wrapper">
                    <div class="line-connector"></div>
                    <div class="hex-box answer-box">
                        <div class="hex-content">
                            <span class="prefix">D:</span> 
                            <span class="text" id="answer-text-3">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ö–Ω–æ–ø–∫–∞ –ü–û–î–¢–í–ï–†–î–ò–¢–¨ -->
        <div id="confirm-answer-btn" class="confirm-fab hidden">
            <svg viewBox="0 0 24 24" width="40" height="40" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        </div>
    </div>

    <div id="rules-modal" class="modal hidden">
    <div class="rules-content">
        <div class="rules-header">
            <h2>–ü–†–ê–í–ò–õ–ê –ò–ì–†–´</h2>
            <span class="close-rules" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</span>
        </div>
        <div class="rules-body" id="rules-text-display">
            <!-- –°—é–¥–∞ JS –≤—Å—Ç–∞–≤–∏—Ç —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª -->
            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤–∏–ª...</p>
        </div>
        <button class="main-btn" id="close-rules-btn">–ü–û–ù–Ø–¢–ù–û</button>
    </div>
</div>

    <!-- –°–ö–†–ò–ü–¢ (–ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–π —Ñ–∞–π–ª) -->
    <script src="game.js"></script> 

    <!-- –°–ª–æ–π –¥–ª—è –±–µ–ª–æ–π –≤—Å–ø—ã—à–∫–∏ -->
    <div id="flash-overlay" class="flash-overlay"></div>

</body>
</html>
